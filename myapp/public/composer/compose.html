<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
      <title>Creation</title>
      <style>
  		html, body {
		    overflow: hidden;
		    width: 100%;
		    height: 100%;
		    margin: 0;
		    padding: 0;
	  }

	  #renderCanvas {
	    width: 100%;
	    height: 100%;
	    touch-action: none;
	  }
	  </style>
      <script type="text/javascript" src="../lib/hand.minified-1.2.js"></script>
      <script type="text/javascript" src="../lib/babylon.js"></script>
   </head>

   <body>

   <canvas id="renderCanvas"></canvas>
   <script type="text/javascript" src="basic.js"></script>
   <script type="text/javascript">

   function car(){
   	
    var center = new BABYLON.Mesh("",scene);
    center.position = new BABYLON.Vector3(0,0,0);

    var faceUV = new Array(6);

    for(var i=0; i<6; i++){
      faceUV[i] = new BABYLON.Vector4(i/6,(i+1)/6,0,1);
    }

    var options = {
      width: 1,
      height: 0.25,
      depth: 0.5,
      "faceUV": faceUV
    };

    var top = BABYLON.MeshBuilder.CreateBox("",{width:0.6,depth:0.45,height:0.15},scene);
    top.parent = center;
    top.position.y = 0.2;

    


    var main = BABYLON.MeshBuilder.CreateBox("",options,scene);
    main.parent = center;

    var material = new BABYLON.StandardMaterial("Mat", scene);
    material.diffuseTexture = new BABYLON.Texture("mosaic.png", scene); 
    main.material = material;
    top.material = material;

    function wheel(){
      var a = BABYLON.MeshBuilder.CreateBox("",{size:0.15},scene);
      var m = new BABYLON.StandardMaterial("",scene);
      m.diffuseColor = new BABYLON.Color3(0,0,0);
      a.material = m;
      return a;
    }

    function mirror(){
      var a = BABYLON.MeshBuilder.CreateBox("",{size:0.05},scene);
      a.position.x = 0.22;
      a.position.y = 0.15;
      return a;
    }

    for(var i=-1; i<2; i+=2)for(var j=-1; j<2; j+=2){
      var t = wheel();
      t.position.x = i * 0.3;
      t.position.z = j * 0.2;
      t.position.y = -0.07;
    }

    var m1 = mirror();
    m1.position.z = -0.25;
    var m2 = mirror();
    m2.position.z = 0.25;


    return center;
  }

  car();
    


   </script>

   </body>

</html>